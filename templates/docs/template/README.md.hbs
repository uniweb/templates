# {{projectName}}

A documentation site built with [Uniweb](https://github.com/uniweb/cli) — a component web platform that separates content from code.

{{> quick-start}}

## Project Structure

```
{{projectName}}/
├── foundation/          # Documentation components (React + Tailwind CSS v4)
│   ├── src/
│   │   ├── components/
│   │   │   ├── Header/            # Header with search, locale, version, categories
│   │   │   ├── LeftPanel/         # Sidebar navigation
│   │   │   ├── SearchModal/       # Full-text search modal
│   │   │   ├── DocSection/        # Documentation content sections
│   │   │   ├── DeprecationBanner/ # Warning banner for deprecated versions
│   │   │   └── Footer/
│   │   └── styles.css       # Tailwind theme
│   ├── vite.config.js       # 3-line config: defineFoundationConfig()
│   └── dist/                # Built output
│
├── site/                # Documentation content (markdown)
│   ├── layout/          # Layout panels
│   │   ├── header/      # Global header
│   │   ├── footer/      # Global footer
│   │   └── left/        # Left sidebar navigation
│   ├── pages/
│   │   └── docs/        # Versioned documentation scope
│   │       ├── page.yml # Version configuration
│   │       ├── v2/      # Current version (routes to /docs/*)
│   │       └── v1/      # Legacy version (routes to /docs/v1/*)
│   ├── site.yml         # Site configuration
│   ├── main.js          # 1-line entry
│   └── vite.config.js   # 3-line config: defineSiteConfig()
│
├── AGENTS.md            # AI assistant instructions
└── README.md            # This file
```

---

## Categories: Two-Level Navigation

This template supports **categories** — a two-level organization system ideal for large documentation sites with distinct topics or deep page hierarchies.

### How It Works

```
┌─────────────────────────────────────────────────────────────────┐
│  Header                                                         │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ Logo    [Getting Started]  [Guide]  [API Reference]         ││
│  │              ▲ active                                       ││
│  └─────────────────────────────────────────────────────────────┘│
├─────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐  ┌────────────────────────────────────────┐  │
│  │  LeftPanel   │  │  Content                               │  │
│  │              │  │                                        │  │
│  │  Introduction│  │  # Installation                        │  │
│  │  ▸ Installation│ │                                        │  │
│  │  ▸ Configuration│ │  Get started by installing...         │  │
│  │              │  │                                        │  │
│  │  (shows only │  │                                        │  │
│  │   pages in   │  │                                        │  │
│  │   current    │  │                                        │  │
│  │   category)  │  │                                        │  │
│  └──────────────┘  └────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

- **Header** shows top-level pages as category tabs
- **LeftPanel** shows only pages within the selected category
- Clicking a tab switches both the content and the sidebar navigation

### Page Structure

Categories are the top-level page folders within your docs scope:

```
site/pages/docs/v2/
├── getting-started/     ← Category: "Getting Started"
│   ├── page.yml         # title: Getting Started, id: getting-started
│   ├── 1-introduction.md
│   ├── installation/
│   │   └── 1-content.md
│   └── configuration/
│       └── 1-content.md
│
├── guide/               ← Category: "Guide"
│   ├── page.yml         # title: Guide, id: guide
│   ├── 1-overview.md
│   ├── content/
│   └── components/
│
└── api/                 ← Category: "API Reference"
    ├── page.yml         # title: API Reference, id: api
    ├── 1-overview.md
    ├── configuration/
    ├── components/
    └── rest/
```

### Enabling Categories

Categories are enabled by default in this template. Both Header and LeftPanel must have `categories: true`:

**`layout/header/1-header.md`**
```yaml
---
type: Header
categories: true
---
```

**`layout/left/1-navigation.md`**
```yaml
---
type: LeftPanel
categories: true
---
```

### Disabling Categories (Flat Navigation)

For smaller sites, you may prefer flat navigation where the sidebar shows the entire page tree:

**`layout/header/1-header.md`**
```yaml
---
type: Header
categories: false
---
```

**`layout/left/1-navigation.md`**
```yaml
---
type: LeftPanel
categories: false
---
```

With flat navigation:
- Header shows top-level pages as regular links
- LeftPanel shows the complete page hierarchy

### When to Use Categories

| Scenario | Recommendation |
|----------|---------------|
| Large docs with 50+ pages | Categories |
| Multiple distinct topics (tutorials, API, reference) | Categories |
| Deep hierarchy (3+ levels) | Categories |
| Small docs with < 20 pages | Flat navigation |
| Single linear topic | Flat navigation |

---

## Search

Full-text search is enabled by default. Users can search with:
- Click the search button in the header
- Press `Cmd/Ctrl + K` anywhere on the site

Search is powered by [Fuse.js](https://fusejs.io/) and indexes all page content at build time.

### Configuration

Search settings in `site.yml`:

```yaml
search:
  enabled: true      # Enable/disable search (default: true)
  include:
    pages: true      # Index page titles
    sections: true   # Index section content
    headings: true   # Index heading text
```

### Header Control

Control search visibility per-header:

```yaml
---
type: Header
showSearch: auto    # 'auto' | 'always' | 'never'
---
```

- `auto` (default): Shows search when enabled in site.yml
- `always`: Always show search button
- `never`: Hide search button

---

## Multi-Language Support

The locale switcher appears automatically when your site has multiple languages configured.

### Adding Locales

1. Configure locales in `site.yml`:

```yaml
i18n:
  defaultLocale: en
  locales:
    - code: en
      label: English
    - code: es
      label: Español
```

2. Add translation files in `site/locales/`:

```
site/locales/
├── en.json
└── es.json
```

3. The locale switcher will appear in the header automatically.

### Header Control

Control locale switcher visibility:

```yaml
---
type: Header
showLocale: auto    # 'auto' | 'always' | 'never'
---
```

- `auto` (default): Shows when multiple locales are configured
- `always`: Always show locale switcher
- `never`: Hide locale switcher

---

## Documentation Versioning

This template demonstrates **scoped versioning** — versioning that applies to specific subtrees of your documentation, not the entire site.

### How It Works

The `docs/` folder is a **versioned scope**. Version folders inside (`v1/`, `v2/`) are detected automatically:

```
site/pages/
└── docs/                    # Versioned scope
    ├── page.yml             # Version metadata
    ├── v2/                  # Latest version
    │   ├── getting-started/
    │   ├── guide/
    │   └── api/
    └── v1/                  # Deprecated version
        ├── getting-started/
        ├── guide/
        └── api/
```

**Generated routes:**
- `/docs/getting-started` — Latest (v2) without version prefix
- `/docs/v1/getting-started` — Legacy (v1) with version prefix
- `/docs/v1/guide` — All v1 content uses the `/v1/` prefix

### Version Configuration

Version metadata is defined in the scope's `page.yml`:

```yaml
# pages/docs/page.yml
title: Documentation
versions:
  v2:
    label: "v2.0 (Current)"
    latest: true
  v1:
    label: "v1.0"
    deprecated: true
```

### Version Switcher

The Header component includes a version switcher that appears automatically when viewing versioned content:

```yaml
---
type: Header
showVersion: auto    # 'auto' | 'always' | 'never'
---
```

- `auto` (default): Shows when page is within versioned content
- `always`: Always show version switcher
- `never`: Hide version switcher

### Deprecation Banner

Use the `DeprecationBanner` component to warn users viewing deprecated documentation:

```yaml
---
type: DeprecationBanner
dismissible: false
---
```

The banner automatically detects when the current version is deprecated and provides a link to the latest version.

### Stable Page References

Use the `page:` protocol for internal links that work across versions:

```markdown
See the [Configuration Guide](page:configuration) for details.
Check the [API Reference](page:api-overview#endpoints).
```

Page IDs are defined in `page.yml`:

```yaml
# pages/docs/v2/getting-started/configuration/page.yml
id: configuration
title: Configuration
```

Benefits:
- Links resolve to the correct version automatically
- Refactoring page locations doesn't break links
- Cross-version linking is stable

### When to Use Versioning

| Scenario | Recommendation |
|----------|---------------|
| API docs with breaking changes | Use versioning |
| Major product versions | Use versioning |
| Tutorials that evolve | Usually no versioning |
| Single-product docs | Usually no versioning |

---

{{> components-docs}}

{{> config-reference}}

## Content Authoring

Documentation pages use markdown with YAML frontmatter:

```markdown
---
type: DocSection
---

# Page Title

Content goes here with **markdown** formatting.

## Code Examples

\`\`\`javascript
const hello = 'world'
\`\`\`

## Lists

- First item
- Second item
- Third item
```

### Page Metadata

Each page folder has a `page.yml` defining its metadata:

```yaml
# pages/guide/page.yml
title: Guide
description: Learn how to use the platform
label: Guide          # Short label for nav (optional, defaults to title)
order: 2              # Sort order in navigation
```

{{> adding-pages}}

## Building

```bash
# Build foundation
cd foundation && pnpm build

# Build site for production
cd site && pnpm build
```

Deploy `site/dist/` to any static host.

{{> ai-assistance}}

{{> learn-more}}

---

Built with the [Uniweb Docs Template](https://github.com/uniweb/templates)
