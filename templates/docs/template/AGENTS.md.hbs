{{> agents-md}}

## Docs Template Features

This documentation template includes specialized features beyond the base Uniweb platform.

### Documentation Versioning

The site demonstrates **scoped versioning** with the `docs/` folder as a versioned scope:

```
site/pages/docs/
├── page.yml           # versions: { v2: { latest: true }, v1: { deprecated: true } }
├── v2/                # Latest version (routes without prefix: /docs/getting-started)
│   ├── getting-started/
│   ├── guide/
│   └── api/
└── v1/                # Deprecated (routes with prefix: /docs/v1/getting-started)
    ├── getting-started/
    ├── guide/
    └── api/
```

**Version metadata** in `docs/page.yml`:
```yaml
title: Documentation
versions:
  v2:
    label: "v2.0 (Current)"
    latest: true
  v1:
    label: "v1.0"
    deprecated: true
```

**When adding new pages:**
- Add to `docs/v2/` for the current version
- Use `id:` in page.yml for stable page references
- Use `page:id` protocol for internal links (e.g., `[Config](page:configuration)`)

### Template-Specific Components

**Header** — Navigation with version switcher:
```yaml
---
type: Header
categories: true      # Show top-level pages as tabs
showVersion: auto     # auto | always | never
showSearch: auto      # auto | always | never
showLocale: auto      # auto | always | never
---
```

**DeprecationBanner** — Warning for deprecated versions:
```yaml
---
type: DeprecationBanner
dismissible: false    # Allow users to dismiss
---
```
Automatically detects deprecated versions via `useVersion()` hook.

**LeftPanel** — Sidebar with category filtering:
```yaml
---
type: LeftPanel
categories: true      # Filter to current category
collapsible: true     # Allow sections to collapse
---
```

### Stable Page References

Pages can have stable IDs for cross-version linking:

```yaml
# pages/docs/v2/getting-started/configuration/page.yml
id: configuration
title: Configuration
```

Use in content:
```markdown
See [Configuration](page:configuration) for details.
```

The `page:` protocol resolves to the correct URL within the current version scope.

### Version Hook

Components can access version information via the `useVersion` hook:

```jsx
import { useVersion } from '@uniweb/kit'

function MyComponent() {
  const {
    isVersioned,           // Is page in versioned content?
    currentVersion,        // { id, label, latest, deprecated }
    versions,              // All versions in scope
    isDeprecatedVersion,   // Is current version deprecated?
    getVersionUrl,         // Get URL for version switch
  } = useVersion()

  if (isDeprecatedVersion) {
    // Show warning or redirect
  }
}
```

### Search Integration

Full-text search is enabled by default. Configure in `site.yml`:

```yaml
search:
  enabled: true
  include:
    pages: true
    sections: true
    headings: true
```

Search indexes all versioned content. Results show version context.
